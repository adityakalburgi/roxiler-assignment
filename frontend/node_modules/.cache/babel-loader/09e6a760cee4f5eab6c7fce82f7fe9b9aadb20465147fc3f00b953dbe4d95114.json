{"ast":null,"code":"import'./App.css';import React from'react';import Transactions from'./Transactions';import Statistics from'./Statistics';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let pieColors=[];let barColors=[];class App extends React.Component{constructor(props){super(props);this.props=props;this.state={showStats:false,month:\"01\",barChartData:{},pieChartData:{},stats:{}};}componentDidMount(){fetch(\"\".concat(window.location.href,\"initDB\"));}render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:!this.state.showStats?/*#__PURE__*/_jsx(Transactions,{month:this.state.month,passMonth:value=>{fetch(\"\".concat(window.location.href,\"combinedData?month=\").concat(value)).then(response=>response.json()).then(Data=>{if(Data[2].length){if(pieColors.length!==Data[2].length){pieColors=Data[2].map(data=>\"#\".concat(parseInt(Math.random()*1000)));}if(barColors.length!==Data[1].length){barColors=Data[1].map(data=>\"#\".concat(parseInt(Math.random()*1000)));}this.setState({showStats:this.state.showStats,month:value,barChartData:{labels:Data[1].map(data=>data.range),datasets:[{label:\"Product Count\",data:Data[1].map(data=>data.count),backgroundColor:barColors,borderColor:\"black\",borderWidth:1}]},pieChartData:{labels:Data[2].map(data=>data.category),datasets:[{label:\"Product Count\",data:Data[2].map(data=>data.count),backgroundColor:pieColors,borderColor:\"black\",borderWidth:1}]},stats:Data[0][0]});}}).catch(console.log);}}):/*#__PURE__*/_jsx(Statistics,{month:this.state.month,barChartData:this.state.barChartData,pieChartData:this.state.pieChartData,stats:this.state.stats})}),/*#__PURE__*/_jsx(\"footer\",{className:\"App-footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:this.state.showStats?\"#7df604\":\"#4f9906\"},onClick:()=>{this.setState({showStats:false,month:this.state.month,chartData:this.state.chartData});},children:\"Show Transactions\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:!this.state.showStats?\"#7df604\":\"#4f9906\"},onClick:()=>{this.setState({showStats:true});},children:\"Show Statistics\"})]})})]});}}export default App;","map":{"version":3,"names":["React","Transactions","Statistics","jsx","_jsx","jsxs","_jsxs","pieColors","barColors","App","Component","constructor","props","state","showStats","month","barChartData","pieChartData","stats","componentDidMount","fetch","concat","window","location","href","render","className","children","passMonth","value","then","response","json","Data","length","map","data","parseInt","Math","random","setState","labels","range","datasets","label","count","backgroundColor","borderColor","borderWidth","category","catch","console","log","style","onClick","chartData"],"sources":["D:/code files/aditya_gfg/frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport React from 'react';\nimport Transactions from './Transactions';\nimport Statistics from './Statistics';\n\nlet pieColors = [];\nlet barColors = [];\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.props = props;\n    this.state = {\n      showStats : false,\n      month : \"01\",\n      barChartData : {\n\n      },\n      pieChartData : {\n\n      },\n      stats : {\n\n      }\n    }\n  }\n  \n  componentDidMount(){\n    fetch(`${window.location.href}initDB`)\n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {\n            (!this.state.showStats)? <Transactions month = {this.state.month} passMonth = {(value)=> {\n              fetch(`${window.location.href}combinedData?month=${value}`)\n              .then((response)=>response.json())\n              .then((Data)=>{\n                  if(Data[2].length){\n\n                    if(pieColors.length !== Data[2].length){\n                      pieColors = Data[2].map(data => `#${parseInt(Math.random()*1000)}`)\n                    }\n                    if(barColors.length !== Data[1].length){\n                      barColors = Data[1].map(data => `#${parseInt(Math.random()*1000)}`)\n                    }\n\n                      this.setState({\n                        showStats:this.state.showStats,\n                        month:value,\n                        barChartData : {\n                          labels: Data[1].map(data => data.range), \n                          datasets: [\n                                {\n                                  label: \"Product Count\",\n                                  data: Data[1].map(data => data.count),\n                                  backgroundColor: barColors,\n                                  borderColor: \"black\",\n                                  borderWidth: 1\n                                }\n                              ]\n                        },\n                        pieChartData : {\n                          labels: Data[2].map(data => data.category), \n                          datasets: [\n                                {\n                                  label: \"Product Count\",\n                                  data: Data[2].map(data => data.count),\n                                  backgroundColor: pieColors,\n                                  borderColor: \"black\",\n                                  borderWidth: 1\n                                }\n                              ]\n                      },\n                      stats : Data[0][0]\n                      })\n                  }\n              })\n              .catch(console.log)\n                    \n            \n            }}/>:<Statistics month = {this.state.month} barChartData = {this.state.barChartData} pieChartData = {this.state.pieChartData} stats = {this.state.stats}/>\n\n          }\n        </header>\n        <footer className='App-footer'>\n          <div className=\"Btn-group\">\n            <button style={{backgroundColor:(this.state.showStats)?\"#7df604\":\"#4f9906\"}} onClick={()=>{\n              this.setState({showStats : false, month : this.state.month, chartData : this.state.chartData});\n            }}>Show Transactions</button>\n            <button style={{backgroundColor:(!this.state.showStats)?\"#7df604\":\"#4f9906\"}} onClick={()=>{\n              this.setState({showStats : true});\n            }}>Show Statistics</button>\n          </div>\n        </footer>\n      </div>\n    );   \n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}