{"ast":null,"code":"import'./App.css';import React from'react';import Transactions from'./Transactions';import Statistics from'./Statistics';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let pieColors=[];let barColors=[];class App extends React.Component{constructor(props){super(props);this.props=props;this.state={showStats:false,month:\"01\",barChartData:{},pieChartData:{},stats:{}};}componentDidMount(){fetch(\"http://localhost:3000/initDB\");}render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:!this.state.showStats?/*#__PURE__*/_jsx(Transactions,{month:this.state.month,passMonth:value=>{fetch(\"http://localhost:3000/combinedData?month=\".concat(value)).then(response=>response.json()).then(Data=>{if(Data[2].length){if(pieColors.length!==Data[2].length){pieColors=Data[2].map(data=>\"#\".concat(parseInt(Math.random()*1000)));}if(barColors.length!==Data[1].length){barColors=Data[1].map(data=>\"#\".concat(parseInt(Math.random()*1000)));}this.setState({showStats:this.state.showStats,month:value,barChartData:{labels:Data[1].map(data=>data.range),datasets:[{label:\"Product Count\",data:Data[1].map(data=>data.count),backgroundColor:barColors,borderColor:\"black\",borderWidth:1}]},pieChartData:{labels:Data[2].map(data=>data.category),datasets:[{label:\"Product Count\",data:Data[2].map(data=>data.count),backgroundColor:pieColors,borderColor:\"black\",borderWidth:1}]},stats:Data[0][0]});}}).catch(console.log);}}):/*#__PURE__*/_jsx(Statistics,{month:this.state.month,barChartData:this.state.barChartData,pieChartData:this.state.pieChartData,stats:this.state.stats})}),/*#__PURE__*/_jsx(\"footer\",{className:\"App-footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:this.state.showStats?\"#7df604\":\"#4f9906\"},onClick:()=>{this.setState({showStats:false,month:this.state.month,chartData:this.state.chartData});},children:\"Show Transactions\"}),/*#__PURE__*/_jsx(\"button\",{style:{backgroundColor:!this.state.showStats?\"#7df604\":\"#4f9906\"},onClick:()=>{this.setState({showStats:true});},children:\"Show Statistics\"})]})})]});}}export default App;","map":{"version":3,"names":["React","Transactions","Statistics","jsx","_jsx","jsxs","_jsxs","pieColors","barColors","App","Component","constructor","props","state","showStats","month","barChartData","pieChartData","stats","componentDidMount","fetch","render","className","children","passMonth","value","concat","then","response","json","Data","length","map","data","parseInt","Math","random","setState","labels","range","datasets","label","count","backgroundColor","borderColor","borderWidth","category","catch","console","log","style","onClick","chartData"],"sources":["D:/code files/aditya_gfg/frontend/src/App.js"],"sourcesContent":["import './App.css';\nimport React from 'react';\nimport Transactions from './Transactions';\nimport Statistics from './Statistics';\n\nlet pieColors = [];\nlet barColors = [];\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.props = props;\n    this.state = {\n      showStats : false,\n      month : \"01\",\n      barChartData : {\n\n      },\n      pieChartData : {\n\n      },\n      stats : {\n\n      }\n    }\n  }\n  \n  componentDidMount(){\n    fetch(`http://localhost:3000/initDB`)\n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {\n            (!this.state.showStats)? <Transactions month = {this.state.month} passMonth = {(value)=> {\n              fetch(`http://localhost:3000/combinedData?month=${value}`)\n              .then((response)=>response.json())\n              .then((Data)=>{\n                  if(Data[2].length){\n\n                    if(pieColors.length !== Data[2].length){\n                      pieColors = Data[2].map(data => `#${parseInt(Math.random()*1000)}`)\n                    }\n                    if(barColors.length !== Data[1].length){\n                      barColors = Data[1].map(data => `#${parseInt(Math.random()*1000)}`)\n                    }\n\n                      this.setState({\n                        showStats:this.state.showStats,\n                        month:value,\n                        barChartData : {\n                          labels: Data[1].map(data => data.range), \n                          datasets: [\n                                {\n                                  label: \"Product Count\",\n                                  data: Data[1].map(data => data.count),\n                                  backgroundColor: barColors,\n                                  borderColor: \"black\",\n                                  borderWidth: 1\n                                }\n                              ]\n                        },\n                        pieChartData : {\n                          labels: Data[2].map(data => data.category), \n                          datasets: [\n                                {\n                                  label: \"Product Count\",\n                                  data: Data[2].map(data => data.count),\n                                  backgroundColor: pieColors,\n                                  borderColor: \"black\",\n                                  borderWidth: 1\n                                }\n                              ]\n                      },\n                      stats : Data[0][0]\n                      })\n                  }\n              })\n              .catch(console.log)\n                    \n            \n            }}/>:<Statistics month = {this.state.month} barChartData = {this.state.barChartData} pieChartData = {this.state.pieChartData} stats = {this.state.stats}/>\n\n          }\n        </header>\n        <footer className='App-footer'>\n          <div className=\"Btn-group\">\n            <button style={{backgroundColor:(this.state.showStats)?\"#7df604\":\"#4f9906\"}} onClick={()=>{\n              this.setState({showStats : false, month : this.state.month, chartData : this.state.chartData});\n            }}>Show Transactions</button>\n            <button style={{backgroundColor:(!this.state.showStats)?\"#7df604\":\"#4f9906\"}} onClick={()=>{\n              this.setState({showStats : true});\n            }}>Show Statistics</button>\n          </div>\n        </footer>\n      </div>\n    );   \n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}